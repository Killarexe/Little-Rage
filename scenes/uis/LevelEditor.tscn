[gd_scene load_steps=13 format=3 uid="uid://btth5y287sdm0"]

[ext_resource type="PackedScene" uid="uid://ctda2nuhe5mvw" path="res://scenes/instances/level/DefaultLevel.tscn" id="1_dbihm"]
[ext_resource type="Script" path="res://scripts/uis/level_editor/LevelEditor.gd" id="1_iig2t"]
[ext_resource type="Texture2D" uid="uid://buw3bxnswai6i" path="res://assets/textures/ui/pause.png" id="2_kolu2"]
[ext_resource type="Script" path="res://scripts/uis/level_editor/tiles/TilesList.gd" id="3_87txn"]
[ext_resource type="Texture2D" uid="uid://k4siyrr0ptjm" path="res://assets/textures/ui/save.png" id="3_av76s"]
[ext_resource type="Script" path="res://scripts/uis/level_editor/SaveConfirmationDialog.gd" id="4_ddc04"]
[ext_resource type="Script" path="res://scripts/uis/level_editor/DisableEditingCursor.gd" id="6_uokvo"]
[ext_resource type="Script" path="res://scripts/uis/MobileVisiblity.gd" id="7_0remk"]
[ext_resource type="Texture2D" uid="uid://ksfev1r6k01h" path="res://assets/textures/ui/quit.png" id="7_l3wyl"]
[ext_resource type="Texture2D" uid="uid://dknlajug6w68u" path="res://assets/textures/ui/settings.png" id="9_2llvw"]
[ext_resource type="PackedScene" uid="uid://o458ah6nqt0b" path="res://scenes/uis/LevelSettingsMenu.tscn" id="10_ncilj"]
[ext_resource type="Script" path="res://scripts/uis/level_editor/EditorCameraControler.gd" id="12_ws2l4"]

[node name="LevelEditor" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_iig2t")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(1.5, 1.5)
script = ExtResource("12_ws2l4")
can_zoom = true
can_pan = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Tiles" type="ItemList" parent="CanvasLayer"]
anchors_preset = 9
anchor_bottom = 1.0
offset_right = 160.0
grow_vertical = 2
icon_mode = 0
icon_scale = 4.0
script = ExtResource("3_87txn")

[node name="DisableEditingCursor" type="Control" parent="CanvasLayer/Tiles" node_paths=PackedStringArray("editor")]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
script = ExtResource("6_uokvo")
editor = NodePath("../../..")

[node name="SaveConfirmationDialog" type="ConfirmationDialog" parent="CanvasLayer"]
title = "ui.save_level"
size = Vector2i(320, 192)
ok_button_text = "ui.editor.save"
dialog_text = "ui.level_editor.save_option"
cancel_button_text = "ui.editor.dont_save"
script = ExtResource("4_ddc04")

[node name="PlayButton" type="TextureButton" parent="CanvasLayer" node_paths=PackedStringArray("editor")]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -80.0
offset_bottom = 80.0
grow_horizontal = 0
texture_normal = ExtResource("2_kolu2")
stretch_mode = 0
script = ExtResource("6_uokvo")
editor = NodePath("../..")

[node name="MobileButtons" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("7_0remk")

[node name="EraserButton" type="TextureButton" parent="CanvasLayer/MobileButtons" node_paths=PackedStringArray("editor")]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = 1160.0
offset_top = 303.0
offset_right = 1240.0
offset_bottom = 383.0
grow_horizontal = 0
toggle_mode = true
texture_normal = ExtResource("2_kolu2")
stretch_mode = 0
script = ExtResource("6_uokvo")
editor = NodePath("../../..")

[node name="SaveButton" type="TextureButton" parent="CanvasLayer" node_paths=PackedStringArray("editor")]
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -325.0
offset_top = -716.0
offset_right = -245.0
offset_bottom = -636.0
grow_horizontal = 0
grow_vertical = 0
texture_normal = ExtResource("3_av76s")
stretch_mode = 0
script = ExtResource("6_uokvo")
editor = NodePath("../..")

[node name="QuitButton" type="TextureButton" parent="CanvasLayer" node_paths=PackedStringArray("editor")]
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -80.0
offset_top = -80.0
grow_horizontal = 0
grow_vertical = 0
texture_normal = ExtResource("7_l3wyl")
stretch_mode = 0
script = ExtResource("6_uokvo")
editor = NodePath("../..")

[node name="SettingsButton" type="TextureButton" parent="CanvasLayer" node_paths=PackedStringArray("editor")]
offset_left = 1074.0
offset_right = 1164.0
offset_bottom = 90.0
texture_normal = ExtResource("9_2llvw")
stretch_mode = 0
script = ExtResource("6_uokvo")
editor = NodePath("../..")

[node name="LevelSettingsMenu" parent="CanvasLayer" instance=ExtResource("10_ncilj")]

[node name="DefaultLevel" parent="." instance=ExtResource("1_dbihm")]
mode = 1

[connection signal="on_clicked" from="Camera2D" to="." method="_on_camera_2d_on_clicked"]
[connection signal="empty_clicked" from="CanvasLayer/Tiles" to="." method="_on_tiles_empty_clicked"]
[connection signal="item_selected" from="CanvasLayer/Tiles" to="." method="_on_tiles_item_selected"]
[connection signal="pressed" from="CanvasLayer/PlayButton" to="." method="_on_play_button_pressed"]
[connection signal="toggled" from="CanvasLayer/MobileButtons/EraserButton" to="Camera2D" method="_on_eraser_button_toggled"]
[connection signal="pressed" from="CanvasLayer/SaveButton" to="." method="_on_save_button_pressed"]
[connection signal="pressed" from="CanvasLayer/QuitButton" to="." method="_on_quit_button_pressed"]
[connection signal="pressed" from="CanvasLayer/SettingsButton" to="CanvasLayer/LevelSettingsMenu" method="_on_settings_button_pressed"]
[connection signal="on_settings_changed" from="CanvasLayer/LevelSettingsMenu" to="." method="_on_level_settings_menu_on_settings_changed"]
